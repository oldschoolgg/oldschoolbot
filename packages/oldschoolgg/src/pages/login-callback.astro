---

---

<div class="min-h-screen grid place-items-center">
    <div class="flex flex-col items-center gap-3">
        <div
            class="h-10 w-10 rounded-full border-4 border-current border-t-transparent animate-spin"
            aria-label="Loading"
            role="status"
        >
        </div>
        <p class="text-base text-zinc-100">Logging you in...</p>
    </div>
</div>

<script>
    import { api } from "@/lib/api.js";

    const run = async () => {
        try {
            const result = await api.syncState();
            if (typeof result === "string") {
                console.error("Login callback error:", result);
            } else {
                window.location.replace("/");
            }
        } catch (err) {
            console.error("Login callback error:", err);
        }
    };

    run();
</script>
